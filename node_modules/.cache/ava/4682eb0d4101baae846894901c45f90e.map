{"version":3,"sources":["test.js"],"names":[],"mappings":"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","file":"test.js","sourcesContent":["import test from 'ava'\r\nconst _Needs = require('./index.js')\r\n\r\ntest('test success w/o strict', t => {\r\n    let needs = _Needs({ strict: false })\r\n    let test = needs.params({\r\n        a: 'int',\r\n        b_: 'float',\r\n        c: {\r\n            d_: 'int[]',\r\n            e: {\r\n                f: 'str',\r\n                g: 'datetime'\r\n            }\r\n        }\r\n    })\r\n    test({\r\n        body: {\r\n            a: 42,\r\n            b: 3.14,\r\n            c: {\r\n                e: {\r\n                    f: 'test',\r\n                    g: Date.now()\r\n                },\r\n                f: 324\r\n            }\r\n        }\r\n    }, null, (err)=>{\r\n        if (err) {\r\n            console.log('testNonstrictCorrect', err)\r\n            t.fail()\r\n        } else {\r\n            t.pass()\r\n        }\r\n    })\r\n})\r\n\r\ntest('test failure w/o strict', t => {\r\n    let needs = _Needs({ strict: false })\r\n    let test = needs.params({\r\n        a: 'int',\r\n        b_: 'float',\r\n        c: {\r\n            d_: 'int[]',\r\n            e: {\r\n                f: 'str',\r\n                g: 'datetime'\r\n            }\r\n        }\r\n    })\r\n    test({\r\n        body: {\r\n            a: 42,\r\n            b: \"this shouldn't work\",\r\n            c: {\r\n                e: {\r\n                    f: 'test',\r\n                    g: Date.now()\r\n                },\r\n                f: 324\r\n            }\r\n        }\r\n    }, null, (err)=>{\r\nconsole.log(err)\r\n        if (!err || err.expected) {\r\n            console.log('testStrictIncorrect', err)\r\n            t.fail()\r\n        } else {\r\n            t.pass()\r\n        }\r\n    })\r\n})\r\n\r\ntest('test success w/ strict', t => {\r\n    let needs = _Needs({})\r\n    let test = needs.params({\r\n        a: 'int',\r\n        b_: 'float',\r\n        c: {\r\n            d_: 'int[]',\r\n            e: {\r\n                f: 'str',\r\n                g: 'datetime'\r\n            }\r\n        }\r\n    })\r\n    test({\r\n        body: {\r\n            a: 42,\r\n            b: 3.14,\r\n            c: {\r\n                e: {\r\n                    f: 'test',\r\n                    g: Date.now()\r\n                }\r\n            }\r\n        }\r\n    }, null, (err)=>{\r\n        if (err) {\r\n            console.log('testStrictCorrect', err)\r\n            t.fail()\r\n        } else {\r\n            t.pass()\r\n        }\r\n    })\r\n})\r\n\r\ntest('test failure w/ strict', t => {\r\n    let needs = _Needs({ onError: options => { return 'Successful Error Test' } })\r\n    let test = needs.params({\r\n        a: 'int',\r\n        b_: 'float',\r\n        c: {\r\n            d_: 'int[]',\r\n            e: {\r\n                f: 'str',\r\n                g: 'datetime'\r\n            }\r\n        }\r\n    })\r\n    test({\r\n        body: {\r\n            a: 42,\r\n            b: 3.14,\r\n            c: {\r\n                e: {\r\n                    f: 'test',\r\n                    g: Date.now()\r\n                },\r\n                f: 1\r\n            }\r\n        }\r\n    }, null, err =>{\r\n        if (!err || err.expected) {\r\n            console.log('testStrictIncorrect', err)\r\n            t.fail()\r\n        } else {\r\n            t.pass()\r\n        }\r\n    })\r\n})"]}